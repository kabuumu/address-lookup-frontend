
@import model._
@import uk.gov.hmrc.play.views.html.helpers
@import views.html.helpers.{alfErrorSummary, alfInput}
@import views.html.v2.main_template

@(id: String, journeyData: JourneyDataV2, lookupForm: Form[Lookup], message: Option[String] = None, enLangEnabledFromCookie: Boolean = true)(implicit request: Request[_], messages: Messages)

@main_template(title = journeyData.resolvedConfigV2.labels(enLangEnabledFromCookie).lookupPageLabels.title, journeyData = Some(journeyData)) {

    @if(journeyData.resolvedConfigV2.options.showBackButtons) {
        <div>
            <a class="back-link" href="javascript:history.back()">@messages("common.back.text")</a>
        </div>
    }

    @alfErrorSummary(
        messages("common.error.text"), lookupForm
    )

    <h1 class="form-title heading-large" id="pageHeading">@{journeyData.resolvedConfigV2.labels(enLangEnabledFromCookie).lookupPageLabels.heading}</h1>

    @if(message.isDefined) {
        <div class="highlight-message highlight-message--full-width">
            <p>@{message.get}</p>
        </div>
    }

    @helpers.form(routes.AddressLookupController.select(id)) {
        <fieldset class="form-field-group">
            <div class="form-field">
                @alfInput(
                    lookupForm("postcode"),
                    '_label -> journeyData.resolvedConfigV2.labels(enLangEnabledFromCookie).lookupPageLabels.postcodeLabel,
                    '_inputClass -> "form-control--block input--small"
                )
            </div>
            <div class="form-field spaced-below">
                <p>
                    <a href="@{routes.AddressLookupController.edit(id)}" id="manualAddress">@{journeyData.resolvedConfigV2.labels(enLangEnabledFromCookie).lookupPageLabels.manualAddressLinkText}</a>
                </p>
            </div>
            <div class="form-field spaced-below">
                @alfInput(
                    lookupForm("filter"),
                    '_label -> journeyData.resolvedConfigV2.labels(enLangEnabledFromCookie).lookupPageLabels.filterLabel,
                    '_inputHint -> messages("lookup.input.hint.text"),
                    '_inputClass -> "form-control--block"
                )
            </div>

            <div class="form-field spaced-below">
                <button class="button" type="submit" id="continue">@{journeyData.resolvedConfigV2.labels(enLangEnabledFromCookie).lookupPageLabels.submitLabel}</button>
            </div>
        </fieldset>
    }
}
